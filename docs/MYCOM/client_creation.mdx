# Cloud ERP Client Creation Guide

This guide explains how to create clients in **Cloud ERP**. Depending on the request, you may be working with **Cloud ERP V1** (OPM purpose) or **Cloud ERP V2** (full ERP features).  

---

## Cloud ERP Versions

| Version       | Purpose                             | URL                                  |
|---------------|-------------------------------------|--------------------------------------|
| **V1**        | OPM purpose, client creation        | [https://web.mycomsys.com:8008/](https://web.mycomsys.com:8008/) |
| **V2**        | Full ERP features                   | [https://mycomerp.com/crudv2](https://mycomerp.com/crudv2) |

> **Note:** Credentials for V1 and V2 are shared privately.

---



## Creating a Client in Cloud ERP V1

If the client only needs **V1 access**, follow these steps:

---

### 1. Login

- **Go to** [V1 URL](https://web.mycomsys.com:8008/) and **login** as `super user`.
- On the **bottom right corner**, click the **Admin Settings** button.

---

### 2. Navigate to Client Section

- Go to the **Client** section.
- Fill in the client details:

| Field           | Description                                                                 |
|-----------------|-----------------------------------------------------------------------------|
| **Client Code** | Can be user input                                                           |
| **Client ID**   | Auto-generated                                                              |
| **Client Name** | Mandatory                                                                   |
| **Client Email**| Not in use? Provide dummy email or name                                     |
| **Client Phone**| Not in use? Provide dummy number                                            |
| **Business Type** | Select either `REST` or `Retail`                                         |

- Click **Save** to create the client.

---

### 3. Assign Permissions

- Click the **multi-select dropdown** to view available permissions.
- Options include:
  - `All` → full access
  - Normally: `Product`, `Settings`, `Sales Insight`, `Customer`

---

### 4. Create a User for the Client

- Provide the following user details:

| Field          | Description         |
|----------------|-------------------|
| **Username**   | Client’s username |
| **User Email** | Email address      |
| **Password**   | Set a secure password |
| **User Type**  | Set to `Admin`    |

---

### 5. Add Authentication

1. Click the dropdown and select **Authentication**.
2. Fill in the authentication details:

| Field       | Value                                |
|------------|--------------------------------------|
| **User ID** | `mycomerp`                           |
| **Client ID** | Use the created client ID           |
| **Password** | Refer to an existing client example |

> Use **Client ID** as the username. Other details can be fetched from the application.

---

### 6. Configure Client Settings on Web2 Server

1. **Login** to the Web2 server.
2. Navigate to the client configuration folder:

```bash
PATH: C:\MYCOM\APPS\TEST\RemServ\files\appconfig\RestPOSCloudManager\settings

```bash
PATH : C:\MYCOM\APPS\TEST\RemServ\files\appconfig\RestPOSCloudManager\settings
```
    - Copy an existing client configuration.
    - Modify the **Client ID** in the configuration file.
9. Once settings are updated, the client can log in and start **master creation**.

## SAMPLE V1 - SETTINGS FILE
```json
{
	"AppBaseURL": "https://web.mycomsys.com:8804/WEBCLOUD_MAINSRV/api/v1/opm/",
	"imageURL": "https://web.mycomsys.com:8804/files/",
	"common_url" :"https://web.mycomsys.com:8804/WEBCLOUD_MAINSRV/common/api/text_to_json",
	"ClientId": 81135
}
```
---

## Creating a Client in Cloud ERP V2

If the client requests full ERP (V2) access, follow these steps:

### Step 1: Create Client in V1

1. Always create the client in **V1 first** to maintain the `client_id` sequence.
2. Click **Save** after entering client details.
3. Open **Inspect** in your browser and capture the **Create Client ID payload**.
![ERP Groups Screenshot](/images/Inspect_client_id.png)
### Step 2: Create Client in V2

Use the captured payload to create the same client in V2:

```http
POST https://web.mycomsys.com:8814/WEBCLOUD_TESTSRV/api/v1/opm/RPCM_Admin_CreateClient
```
```json
{
  "DATA": [
    {
      "id": "",
      "client_id": "81156",
      "client_code": "81156",
      "client_name": "Shenals Family Restaurant",
      "address": "SRI LANKA",
      "email": "company@gmail.com",
      "loc_id": "ALL",
      "profile_image": "",
      "business_type": "REST",
      "phone": "1234",
      "super": "1",
      "active": "1",
      "Deleted": "0",
      "approve": "1",
      "skip_auth": "Y",
      "client_desc": "",
      "client_desc2": "",
      "created_date": "2025-12-20",
      "created_user": "M-ADMIN",
      "modified_date": "2025-12-20",
      "modified_user": "M-ADMIN"
    }
  ]
}
```

## Step 3: Configure V2 Settings

1. **Login** to the **V2 portal** using the same super user credentials.

2. **Create users**, assign **permissions**, and add **authentication** as described in the **V1 workflow**.

3. On the **Web2 server**, update the `app_config` settings:
   - Note that the **V2 settings URL** will differ from V1.
   - Copy an existing configuration and modify it with the correct **Client ID**.
## SAMPLE V2 - Settings file
```json
{
    "AppBaseURL": "https://web.mycomsys.com:8814/WEBCLOUD_TESTSRV/api/v1/opm/",
    "imageURL": "https://devp.mycomsys.com:8807/files/",
    "common_url": "https://web.mycomsys.com:8804/WEBCLOUD_MAINSRV/common/api/text_to_json",
     "template_url" : "https://devp.mycomsys.com:8807/files/rpcm/@client_id@/PrintTemplate",
     "logo_url": "https://devp.mycomsys.com:8807/files/rpcm/@client_id@/logo/logo.jpg",
    "crud_URL": "https://web.mycomsys.com:8811/crudapi/cloudERP",
    "report_URL": "https://web.mycomsys.com:8811/api/reports/",
     "barcode_URL": "https://web.mycomsys.com:8813",
    "isHsnCodeRequired": false,
    "hsnCodeLength": 6,
     "conver_factor_length": 5,
     "supplierTaxMandatory": false,
    "ClientId": 81142,
    "image_dimension": "350 X 160",
    "Invoice_Footer1": "Should you have any enquires concerning this invoice,please contact Mr Amila 081818181/01010101",
    "Invoice_Footer2": "please make all checks payable to Mircosol Technologies",
    "Invoice_Footer3": "Thank you for all your business"
}
```
> After completing these steps, the client is ready to log in and proceed with **master creation** in V2.

---

## Notes & Tips

- Always create the client in **V1 first** to maintain `client_id` sequence.  
- Use the browser's **Inspect tool** to capture payloads for API-based client creation.  
- Ensure **permissions and authentication** are configured correctly before client login.  
- Settings in the **Web2 server** differ between V1 and V2 — always verify the URLs before saving.
